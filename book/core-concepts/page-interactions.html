<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Page Interactions</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">What is Puppeteer?</li><li class="chapter-item expanded "><a href="../chapter-1.html"><strong aria-hidden="true">1.</strong> Puppeteer introduction</a></li><li class="chapter-item expanded "><a href="../chapter-1.1.html"><strong aria-hidden="true">2.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="../core-concepts/core.html"><strong aria-hidden="true">3.</strong> Core concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../core-concepts/browser-management.html"><strong aria-hidden="true">3.1.</strong> Browser Management</a></li><li class="chapter-item expanded "><a href="../core-concepts/page-interactions.html" class="active"><strong aria-hidden="true">3.2.</strong> Page Interactions</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Scraping the Web</li><li class="chapter-item expanded "><a href="../chapter-1.html"><strong aria-hidden="true">4.</strong> Puppeteer introduction</a></li><li class="chapter-item expanded "><a href="../chapter-1.1.html"><strong aria-hidden="true">5.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="../core-concepts/core.html"><strong aria-hidden="true">6.</strong> Core concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../core-concepts/browser-management.html"><strong aria-hidden="true">6.1.</strong> Browser Management</a></li><li class="chapter-item expanded "><a href="../core-concepts/page-interactions.html" class="active"><strong aria-hidden="true">6.2.</strong> Page Interactions</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Rebase, Resolve, Revise</li><li class="chapter-item expanded "><a href="../chapter-2.html"><strong aria-hidden="true">7.</strong> Collaboration in Git</a></li><li class="chapter-item expanded "><a href="../chapter-2.1.html"><strong aria-hidden="true">8.</strong> Visualize Git Commands</a></li><li class="chapter-item expanded "><a href="../exercise-2/exercise-2.html"><strong aria-hidden="true">9.</strong> Exercise: Merge Conflicts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../exercise-2/clone-repo.html"><strong aria-hidden="true">9.1.</strong> Clone Repository</a></li><li class="chapter-item expanded "><a href="../exercise-2/add-personal-info.html"><strong aria-hidden="true">9.2.</strong> Add Personal Information</a></li><li class="chapter-item expanded "><a href="../exercise-2/create-pull-requests.html"><strong aria-hidden="true">9.3.</strong> Create Pull Requests</a></li><li class="chapter-item expanded "><a href="../exercise-2/resolve-merge-conflicts.html"><strong aria-hidden="true">9.4.</strong> Resolve Merge Conflicts</a></li><li class="chapter-item expanded "><a href="../exercise-2/rebase-squash-merge.html"><strong aria-hidden="true">9.5.</strong> Rebase, Squash, and Merge</a></li></ol></li><li class="chapter-item expanded "><a href="../exercise-2/interactive-rebase.html"><strong aria-hidden="true">10.</strong> Commit History and Interactive Rebase</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../quiz.html">Quiz & Feedback</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="page-interactions"><a class="header" href="#page-interactions">Page interactions</a></h1>
<p>In this section, we will learn how to interact with a page using Puppeteer. Puppeteer provides a high-level API to interact with a page, which includes navigating to a page, clicking on elements, typing text, and more. All the functions are asynchronous and return promises, which makes it easy to work with Puppeteer in an asynchronous manner. There are many methods available to interact with a page, and we will cover some of the most common ones, but you can find the full list in the <a href="https://pptr.dev/">official documentation</a>.</p>
<h2 id="navigating-to-a-page"><a class="header" href="#navigating-to-a-page">Navigating to a Page</a></h2>
<p>To navigate to a page, you can use the <code>page.goto()</code> method. This method takes a URL as an argument and loads the page at the specified URL.</p>
<pre><code class="language-javascript">import puppeteer from "puppeteer";

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();

  await page.goto("https://www.example.com");

  await browser.close();
})();
</code></pre>
<p>In the example above, we launch a browser instance, create a new page, and navigate to <code>https://www.example.com</code>. Once the page is loaded, we close the browser.</p>
<h2 id="taking-screenshots"><a class="header" href="#taking-screenshots">Taking Screenshots</a></h2>
<p>You can take a screenshot of a page using the <code>page.screenshot()</code> method. This method captures a screenshot of the current page and saves it to a file, to the specified path.</p>
<pre><code class="language-javascript">import puppeteer from "puppeteer";

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();

  await page.goto("https://www.example.com");
  await page.screenshot({ path: "example.png", fullPage: true });

  await browser.close();
})();
</code></pre>
<h2 id="generating-pdfs"><a class="header" href="#generating-pdfs">Generating PDFs</a></h2>
<p>You can generate a PDF of a page using the <code>page.pdf()</code> method. This method generates a PDF of the current page and saves it to a file, to the specified path.</p>
<pre><code class="language-javascript">import puppeteer from "puppeteer";

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();

  await page.goto("https://www.example.com");
  await page.pdf({ path: "example.pdf", format: "A4" });

  await browser.close();
})();
</code></pre>
<h4 id="the-magic-of-puppeteer-lies-in-its-ability-to-evaluate-javascript-on-a-page-based-on-dom-manipulation-you-can-interact-with-elements-click-buttons-and-more-the-core-concepts-is-based-on-the-selectors-and-the-actions-you-want-to-perform-there-are-different-methods-to-evaluate-the-content-of-a-page"><a class="header" href="#the-magic-of-puppeteer-lies-in-its-ability-to-evaluate-javascript-on-a-page-based-on-dom-manipulation-you-can-interact-with-elements-click-buttons-and-more-the-core-concepts-is-based-on-the-selectors-and-the-actions-you-want-to-perform-there-are-different-methods-to-evaluate-the-content-of-a-page">The magic of Puppeteer lies in its ability to evaluate JavaScript on a page. Based on DOM manipulation, you can interact with elements, click buttons, and more. The core concepts is based on the selectors and the actions you want to perform. There are different methods to evaluate the content of a page:</a></h4>
<h2 id="evaluating-javascript"><a class="header" href="#evaluating-javascript">Evaluating JavaScript</a></h2>
<ol>
<li><code>page.$(selector)</code>: This method returns the first element that matches the specified selector. If no element matches the selector, the method returns <code>null</code>.</li>
<li><code>page.$$(selector)</code>: This method returns an array of elements that match the specified selector. If no elements match the selector, the method returns an empty array.</li>
<li><code>page.$eval(selector, pageFunction, ...args)</code>: This method evaluates the specified function in the context of the first element that matches the selector. The function can access the DOM of the element and return a value. The arguments passed to the function are serialized and can be accessed as function parameters.</li>
<li><code>page.evaluate(pageFunction, ...args)</code>: This method evaluates the specified function in the context of the page. The function can access the DOM of the page and return a value. The arguments passed to the function are serialized and can be accessed as function parameters.</li>
</ol>
<p>When evaluating JavaScript on a page, you can interact with elements, get their attributes, and perform various actions. This allows you to automate tasks, scrape data, and test web applications.</p>
<pre><code class="language-javascript">import puppeteer from "puppeteer";

const selector = ".selector";
const textSelector = ".text-selector";

(async () =&gt; {
    const browser = await puppeteer.launch();
    const page = await browser.newPage();
    await page.goto("https://www.example.com");

    const element = await page.$(selector); // Get the first element that matches the selector
    const elements = await page.$$(selector); // Get all elements that match the selector

    let value = await page.$eval(selector, (element) =&gt; {
        return element..innerText;
    });

    value = await page.evaluate((selector) =&gt; {
        return document.querySelector(selector).textContent;
    }, selector);

    const text = await element.evaluate((el) =&gt; el.textContent); // Get the text content of the element
})();
</code></pre>
<h2 id="waiting-for-elements"><a class="header" href="#waiting-for-elements">Waiting for Elements</a></h2>
<p>When interacting with a page, it's important to wait for elements to be available before performing actions on them. Puppeteer provides the <code>page.waitForSelector()</code> method to wait for an element to be present in the DOM. By default, this method waits for 30 seconds before timing out, but you can specify a custom timeout using the <code>timeout</code> option.</p>
<pre><code class="language-javascript">import puppeteer from "puppeteer";

const selector = ".selector";

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto("https://www.example.com");

  await page.waitForSelector(selector, { timeout: 5000 });

  await browser.close();
})();
</code></pre>
<p>Also, it's advisable to insert some delay before performing actions on the page. This can be done creating a delay function and using it before performing actions.</p>
<pre><code class="language-javascript">function delay(time) {
  return new Promise(function (resolve) {
    setTimeout(resolve, time);
  });
}

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto("https://www.example.com");

  await delay(2000); // Wait for 2 seconds

  await browser.close();
})();
</code></pre>
<h2 id="clicking-on-elements"><a class="header" href="#clicking-on-elements">Clicking on Elements</a></h2>
<p>To click on an element on a page, you can use the <code>element.click()</code> method. This method simulates a mouse click on the element. While this method seems pretty straightforward, in some cases, the element might not be completely visible or clickable, that's why it's more recommended to use the evaluation methods mentioned above.</p>
<pre><code class="language-javascript">import puppeteer from "puppeteer";

const selector = ".selector";

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto("https://www.example.com");

  await page.waitForSelector(selector);

  const element = await page.$(selector);

  await element.click();

  // safer approach
  await element.evaluate((el) =&gt; el.click());

  await browser.close();
})();
</code></pre>
<h2 id="typing-text"><a class="header" href="#typing-text">Typing Text</a></h2>
<p>For input fields, you can use the <code>element.type()</code> method to type text into the field. This method simulates typing text on the keyboard and is useful for automating form submissions, login processes, and more.</p>
<pre><code class="language-javascript">import puppeteer from "puppeteer";

const selector = ".selector";

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto("https://www.example.com");

  await page.waitForSelector(selector);

  const element = await page.$(selector);

  await element.type("Hello, World!");

  await browser.close();
})();
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../core-concepts/browser-management.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../chapter-1.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../core-concepts/browser-management.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../chapter-1.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
